(function(){"use strict";var t={9946:function(t,e,n){var i=n(9242),s=n(3396);const a={class:"side"},d={class:"side"},o={class:"side"};function l(t,e,n,i,l,u){const r=(0,s.up)("task-title"),m=(0,s.up)("AddToDolist"),h=(0,s.up)("SelectStatus"),c=(0,s.up)("ItemList"),p=(0,s.up)("ItemContent");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("header",null,[(0,s.Wm)(r)]),(0,s._)("main",null,[(0,s._)("div",a,[(0,s.Wm)(m,{onAddItemHtml:u.addItemHtml},null,8,["onAddItemHtml"]),(0,s.Wm)(h,{onStatusChange:u.selectChange},null,8,["onStatusChange"])]),(0,s._)("div",d,[(0,s.Wm)(c,{onEdit:u.edit,onUpdateStatus:u.updateStatus,onDelitem:u.delitem,onHandelStart:u.handelStart,onHadelChange:u.hadelChange,items:l.items,start:l.start},null,8,["onEdit","onUpdateStatus","onDelitem","onHandelStart","onHadelChange","items","start"])]),(0,s._)("div",o,[(0,s.Wm)(p,{todos:l.todos,onDel:u.del,onAddItem:u.addItem},null,8,["todos","onDel","onAddItem"])])])],64)}const u={class:"title"};function r(t,e){return(0,s.wg)(),(0,s.iD)("div",u," TaskDo ")}var m=n(89);const h={},c=(0,m.Z)(h,[["render",r],["__scopeId","data-v-7ab0b24a"]]);var p=c;const g={class:"addContent"};function f(t,e,n,i,a,d){return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>d.add&&d.add(...t))},"add")])}var v={emits:["addItemHtml"],methods:{add(){this.$emit("addItemHtml",!0)}}};const S=(0,m.Z)(v,[["render",f],["__scopeId","data-v-c8d2ac66"]]);var I=S;const b=(0,s._)("option",{value:"2",selected:""},"全部",-1),C=(0,s._)("option",{value:"0"},"未完成",-1),D=(0,s._)("option",{value:"1"},"已完成",-1),y=[b,C,D];function w(t,e,n,a,d,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.statusChange&&o.statusChange(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>d.selected=t)},y,544),[[i.bM,d.selected]])])}var _={data(){return{selected:2}},emits:["statusChange"],methods:{statusChange(){this.$emit("statusChange",this.selected)}}};const k=(0,m.Z)(_,[["render",w]]);var T=k;const H={class:"itemContent"};function j(t,e,n,i,a,d){const o=(0,s.up)("ItemSingle");return(0,s.wg)(),(0,s.iD)("div",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.todos,((t,e)=>((0,s.wg)(),(0,s.j4)(o,{onDel:e=>d.del(t.id),onAddItem:d.addItem,key:e,id:t.id,itemSingle:t},null,8,["onDel","onAddItem","id","itemSingle"])))),128))])}const O={class:"item"},$=["data-index"];function x(t,e,n,a,d,o){return(0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>o.del(e,t.index)),"data-index":t.index},"刪除",8,$),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>d.titleInput=t)},null,512),[[i.nr,d.titleInput]]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.addItem(t))},"新增")])}var A={data(){return{titleInput:""}},props:{id:Number,item:Object},emits:["del","addItemHtml"],methods:{del(t,e){console.log(e),t.target.parentNode.remove(),this.$emit("del",e)},addItem(t){t.target.parentNode.remove(),this.$emit("addItem",{title:this.titleInput,id:this.id})}}};const N=(0,m.Z)(A,[["render",x],["__scopeId","data-v-0bf08b1a"]]);var P=N,E={data(){return{isDelete:!1}},components:{ItemSingle:P},props:{todos:Array},emits:["del","addItemHtml"],methods:{del(t){this.$emit("del",t)},addItem(t){this.$emit("addItem",t)}}};const U=(0,m.Z)(E,[["render",j]]);var Z=U;const W={class:"itemList"};function L(t,e,n,i,a,d){const o=(0,s.up)("ItemSingle");return(0,s.wg)(),(0,s.iD)("div",W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.items,((t,e)=>((0,s.wg)(),(0,s.j4)(o,{key:e,item:t,id:t.id,index:e,isStatus:t.status,start:n.start,onUpdateStatus:e=>d.updateStatus({id:t.id,status:t.status}),onDelitem:e=>d.delitem(t.id),onEdit:e=>d.edit({id:t.id,title:t.title}),onHandelStart:d.handelStart,onHadelChange:d.hadelChange},null,8,["item","id","index","isStatus","start","onUpdateStatus","onDelitem","onEdit","onHandelStart","onHadelChange"])))),128))])}const V={class:"item"},Y={class:"title"},G={key:0,class:"title"},J={key:1,class:"title"};function K(t,e,n,a,d,o){return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.delitem(t))},"刪除"),(0,s._)("div",Y,[d.type?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>d.itemSingleTitle=t)},null,512)),[[i.nr,d.itemSingleTitle]]):(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>d.itemSingleTitle=t),disabled:""},null,512)),[[i.nr,d.itemSingleTitle]])]),0==d.itemStatus?((0,s.wg)(),(0,s.iD)("div",G,"not ok")):((0,s.wg)(),(0,s.iD)("div",J,"ok")),(0,s._)("button",{onClick:e[3]||(e[3]=t=>o.edit())},"修改"),(0,s._)("button",{onClick:e[4]||(e[4]=t=>o.updateStatus())},"完成")])}var M={data(){return{type:!1,itemSingleTitle:"",itemStatus:this.item.status}},props:{item:Object,isStatus:Number,index:Number,id:Number,start:Number},emits:["delitem","updateStatus","handelStart","hadelChange"],methods:{delitem(t){t.target.parentNode.remove(),this.$emit("delitem")},updateStatus(){this.$emit("updateStatus")},edit(){this.type?(this.type=!1,this.$emit("edit")):this.type=!0},handelStart(t){this.$emit("handelStart",t)},handelDrop(t,e){this.$emit("hadelChange",{start:t,index:e})}},mounted(){this.itemSingleTitle=this.item.title},watch:{item(){this.itemSingleTitle=this.item.title},"item.status":function(){this.itemStatus=this.item.status,console.log("asda")}}};const F=(0,m.Z)(M,[["render",K],["__scopeId","data-v-1a480ec0"]]);var q=F,z={components:{ItemSingle:q},props:{items:Object,start:Number},emits:["delitem","updateStatus","handelStart"],methods:{delitem(t){this.$emit("delitem",t)},updateStatus(t){this.$emit("updateStatus",t)},edit(t){this.$emit("edit",t)},handelStart(t){this.$emit("handelStart",t)},hadelChange(t){this.$emit("hadelChange",t)}}};const B=(0,m.Z)(z,[["render",L]]);var Q=B,R={data(){return{isAdd:null,todos:[],items:[],temp:[],count:0,start:0}},name:"App",components:{TaskTitle:p,AddToDolist:I,SelectStatus:T,ItemContent:Z,ItemList:Q},methods:{addItemHtml(){this.count++,this.todos.push({id:this.count,title:"",status:0})},del(){},selectChange(t){fetch("httP://192.168.88.143:5000/items?status="+t,{method:"GET"}).then((t=>t.json())).then((t=>{"ok"===t.status&&(this.items=t.toData)}))},delitem(t){fetch("httP://192.168.88.143:5000/deleteitem/"+t,{method:"DELETE"})},updateStatus(t){fetch("httP://192.168.88.143:5000/updatestatus/"+t.id,{method:"PUT"}).then((t=>t.json())).then((e=>{if("ok"===e.status){let n=this.items.findIndex((e=>e.id===t.id));this.items[n].status=e.toData.status,console.log(this.items[n])}}))},addItem(t){let e={title:t.title};fetch("httP://192.168.88.143:5000/additem",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((t=>t.json())).then((t=>{"ok"===t.status&&this.items.push(t.toData)}))},edit(t){let e={title:t.title};console.log(e),fetch("httP://192.168.88.143:5000/updateitem/"+t.id,{method:"PUT",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((t=>t.json())).then((t=>{console.log(t)}))},handelStart(t){this.start=t},hadelChange(t){console.log(t)}},mounted(){fetch("httP://192.168.88.143:5000/items",{method:"GET"}).then((t=>t.json())).then((t=>{"ok"===t.status&&(this.items=t.toData,console.log(this.items))}))}};const X=(0,m.Z)(R,[["render",l]]);var tt=X;(0,i.ri)(tt).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var d=1/0;for(r=0;r<t.length;r++){i=t[r][0],s=t[r][1],a=t[r][2];for(var o=!0,l=0;l<i.length;l++)(!1&a||d>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(o=!1,a<d&&(d=a));if(o){t.splice(r--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var r=t.length;r>0&&t[r-1][2]>a;r--)t[r]=t[r-1];t[r]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,d=i[0],o=i[1],l=i[2],u=0;if(d.some((function(e){return 0!==t[e]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var r=l(n)}for(e&&e(i);u<d.length;u++)a=d[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(r)},i=self["webpackChunktodolist"]=self["webpackChunktodolist"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(9946)}));i=n.O(i)})();
//# sourceMappingURL=app.bf128296.js.map